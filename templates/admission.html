<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Pushpalal Memorial Secondary School</title>
    <link href="{{url_for('static',filename='output.css')}}" rel="stylesheet" />
  </head>
  <body
    class="bg-white/80 relative min-h-screen h-screen bg-[url('/static/Assets/background-image.png')] bg-cover bg-fixed bg-center"
  >
    <div class="top-bar flex justify-center gap-10">
      <span class="phone-number flex gap-1.5 text-md">
        <svg class="size-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M2 3.5A1.5 1.5 0 0 1 3.5 2h1.148a1.5 1.5 0 0 1 1.465 1.175l.716 3.223a1.5 1.5 0 0 1-1.052 1.767l-.933.267c-.41.117-.643.555-.48.95a11.542 11.542 0 0 0 6.254 6.254c.395.163.833-.07.95-.48l.267-.933a1.5 1.5 0 0 1 1.767-1.052l3.223.716A1.5 1.5 0 0 1 18 15.352V16.5a1.5 1.5 0 0 1-1.5 1.5H15c-1.149 0-2.263-.15-3.326-.43A13.022 13.022 0 0 1 2.43 8.326 13.019 13.019 0 0 1 2 5V3.5Z" clip-rule="evenodd" />
        </svg>
        01-4811002
      </span>
      <span>✉️ plmss2057@gmail.com</span>
    </div>

    <header class="mx-10 bg-white/80 items-center p-4 rounded-xl">
      <div class="header-content flex">
        <div class="logo w-1/15 mb-3">
          <img src="{{url_for('static', filename='../static/Assets/fevicon.png')}}" alt="School Logo" />
        </div>
        <span class="school-title w-full block text-center font-bold text-3xl">Pushpalal Memorial Secondary School</span>
      </div>
    </header>

    <ul class="nav-list bg-white/80/50 mx-10 rounded-xl -mt-9 flex justify-center gap-15 sticky top-0">
      <li><a href="{{url_for('index')}}" class="active flex">Home</a></li>
      <li><a href="{{url_for('admission')}}" class="flex">Admission</a></li>
      <li><a href="{{url_for('gallary')}}" class="flex">Gallery</a></li>
      <li><a href="{{url_for('newsLetter')}}" class="flex">News & Letter</a></li>
      <li><a href="{{url_for('notice')}}" class="flex">Notice</a></li>
    </ul>

    <section class="mx-10 my-10 rounded-xl bg-white/80 p-10">
      <h1 class="text-center text-3xl mb-6">Admission Form</h1>

      <form action="/admission" method="POST" class="space-y-6">
        {{ form.csrf_token }}

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <input id="full_name" name="full_name" placeholder="Full name" class="border rounded p-2" type="text" required />
          <input id="dob" name="dob" type="date" class="border rounded p-2" required />
          <input id="parent_name" name="parent_name" type="text" placeholder="Parent / Guardian" class="border rounded p-2" required />
          <input id="phone" name="phone" placeholder="Phone" class="border rounded p-2" required />
          <input id="email" name="email" type="email" placeholder="Email" class="border rounded p-2" required />
          <input id="grade" name="grade" type="number" placeholder="Applying for Grade" class="border rounded p-2" required />
        </div>

        <div>
          <label class="block font-medium mb-2">Address</label>
          <textarea id="address" name="address" rows="3" class="w-full border rounded p-2" required></textarea>
        </div>

        <div>
          <label class="block font-medium mb-2">Photo (Optional for form submission)</label>
          <div id="drop-area" class="border-dashed border-2 border-gray-300 rounded p-6 flex flex-col items-center justify-center text-center cursor-pointer">
            <input id="photo-input" name="photo" type="file" accept="image/*" class="hidden" />
            <p class="text-gray-600">Drop an image here, or click to select</p>
            <div id="preview" class="mt-4"></div>
          </div>
        </div>

        <div class="flex justify-end">
          <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors">
            Submit Application
          </button>
        </div>
      </form>
    </section>

    <script>
      (function () {
        const dropArea = document.getElementById("drop-area");
        const input = document.getElementById("photo-input");
        const preview = document.getElementById("preview");

        ["dragenter", "dragover", "dragleave", "drop"].forEach((evt) => {
          dropArea.addEventListener(evt, (e) => {
            e.preventDefault();
            e.stopPropagation();
          }, false);
        });

        dropArea.addEventListener("click", () => input.click());
        input.addEventListener("change", handleFiles);
        dropArea.addEventListener("drop", (e) => {
          if (e.dataTransfer.files && e.dataTransfer.files.length) {
            input.files = e.dataTransfer.files;
            handleFiles();
          }
        });

        function handleFiles() {
          const file = input.files[0];
          if (!file) return;
          const img = document.createElement("img");
          img.className = "max-h-40 rounded";
          img.src = URL.createObjectURL(file);
          preview.innerHTML = "";
          preview.appendChild(img);
        }
      })();
    </script>

    <footer class="mx-10 rounded-xl bg-white/80 p-6 mt-10">
      <div class="footer-content flex flex-col md:flex-row justify-between items-start gap-6">
        <div class="contact w-full md:w-1/3">
          <h3 class="font-bold text-lg mb-2">Contact</h3>
          <p>Phone: 01-4811002</p>
          <p>Email: plmss2057@gmail.com</p>
        </div>
      </div>
    </footer>
  </body>
</html>